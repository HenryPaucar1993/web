<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevo Formulario</title>
</head>
<body>

<h1>Nuevo Formulario</h1>

<form id="newDataForm">
    <div>
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" required>
    </div>
    <div>
        <label for="cedula">Cédula:</label>
        <input type="text" id="cedula" required>
    </div>
    <div>
        <label for="ip">IP:</label>
        <input type="text" id="ip" required>
    </div>
    <div>
        <label for="fecha">Fecha:</label>
        <input type="text" id="fecha" value="" readonly>
    </div>
    <div>
        <label for="numeroTicket">Número de Ticket:</label>
        <input type="text" id="numeroTicket" value="" readonly>
    </div>
    <div>
        <label for="motivo">Motivo de la Visita:</label>
        <input type="text" id="motivo" required>
    </div>
    <div class="form-group">
        <label for="tecnico">Asignar a Técnico:</label>
        <select id="tecnico" required>
            <option value="">Seleccione un técnico</option>
            <option value="tecnico1">Técnico 1</option>
            <option value="tecnico2">Técnico 2</option>
            <option value="tecnico3">Técnico 3</option>
        </select>
    </div>
    <button type="button" onclick="saveData()">Guardar</button>
</form>

<script>
    // Función para obtener los parámetros de la URL
    function getQueryParams() {
        const params = new URLSearchParams(window.location.search);
        return {
            nombre: params.get('nombre'),
            cedula: params.get('cedula'),
            ip: params.get('ip')
        };
    }

    // Rellenar el formulario con los parámetros recibidos
    const { nombre, cedula, ip } = getQueryParams();
    document.getElementById('nombre').value = nombre;
    document.getElementById('cedula').value = cedula;
    document.getElementById('ip').value = ip;

    // Asignar fecha actual
    const today = new Date().toLocaleDateString();
    document.getElementById('fecha').value = today;

    // Generar un número de ticket (puedes personalizar esta lógica)
    const ticketNumber = Math.floor(Math.random() * 100000); // Ejemplo simple
    document.getElementById('numeroTicket').value = ticketNumber;

    // Función para guardar los datos
    function saveData() {
        const nombre = document.getElementById('nombre').value;
        const cedula = document.getElementById('cedula').value;
        const ip = document.getElementById('ip').value;
        const fecha = document.getElementById('fecha').value;
        const numeroTicket = document.getElementById('numeroTicket').value;
        const motivo = document.getElementById('motivo').value;
        const tecnico = document.getElementById('tecnico').value;

        // Aquí puedes agregar la lógica para guardar los datos,
        // por ejemplo, enviarlos a un servidor o guardarlos localmente
        alert(`Datos guardados:\nNombre: ${nombre}\nCédula: ${cedula}\nIP: ${ip}\nFecha: ${fecha}\nNúmero de Ticket: ${numeroTicket}\nMotivo: ${motivo}\nTécnico: ${tecnico}`);
        
        // Opcional: Reiniciar el formulario después de guardar
        document.getElementById('newDataForm').reset();
    }
</script>

</body>
</html>
